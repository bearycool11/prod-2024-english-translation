import{r as f,o as k,x as m,y as a,B as w,j as n,k as d,u as r,l,G as _,m as e,D as b,E as g,H as h,C as x,F as Z}from"./index-Cxdx-ytl.js";import{t as v}from"./toggleSidebar-yCkJPOES.js";const A={class:"h-full top-0 left-0 sticky px-3 py-4 pt-4 overflow-y-auto bg-gray-50 dark:bg-gray-800"},M={class:"space-y-2 font-medium"},C={class:"mb-2 max-h-72 text-lg font-bold break-all truncate dark:text-neutral-200"},B=e("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18"},[e("path",{d:"M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"})],-1),z=e("span",{class:"ms-3"},"Посты",-1),H=e("svg",{class:"flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 18"},[e("path",{d:"M14 2a3.963 3.963 0 0 0-1.4.267 6.439 6.439 0 0 1-1.331 6.638A4 4 0 1 0 14 2Zm1 9h-1.264A6.957 6.957 0 0 1 15 15v2a2.97 2.97 0 0 1-.184 1H19a1 1 0 0 0 1-1v-1a5.006 5.006 0 0 0-5-5ZM6.5 9a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9ZM8 10H5a5.006 5.006 0 0 0-5 5v2a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-2a5.006 5.006 0 0 0-5-5Z"})],-1),V=e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Пользователи",-1),S=e("svg",{class:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{"fill-rule":"evenodd",d:"M20 10H4v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8ZM9 13v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z","clip-rule":"evenodd"}),e("path",{d:"M2 6a2 2 0 0 1 2-2h16a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2Z"})],-1),$=e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"История постов",-1),O=e("svg",{class:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})],-1),N=e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Каналы",-1),D=e("svg",{class:"flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{"fill-rule":"evenodd",d:"M12 6a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Zm-1.5 8a4 4 0 0 0-4 4 2 2 0 0 0 2 2h7a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-3Zm6.82-3.096a5.51 5.51 0 0 0-2.797-6.293 3.5 3.5 0 1 1 2.796 6.292ZM19.5 18h.5a2 2 0 0 0 2-2 4 4 0 0 0-4-4h-1.1a5.503 5.503 0 0 1-.471.762A5.998 5.998 0 0 1 19.5 18ZM4 7.5a3.5 3.5 0 0 1 5.477-2.889 5.5 5.5 0 0 0-2.796 6.293A3.501 3.501 0 0 1 4 7.5ZM7.1 12H6a4 4 0 0 0-4 4 2 2 0 0 0 2 2h.5a5.998 5.998 0 0 1 3.071-5.238A5.505 5.505 0 0 1 7.1 12Z","clip-rule":"evenodd"})],-1),E=e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Боты",-1),F=e("svg",{class:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.133 12.632v-1.8a5.406 5.406 0 0 0-4.154-5.262.955.955 0 0 0 .021-.106V3.1a1 1 0 0 0-2 0v2.364a.955.955 0 0 0 .021.106 5.406 5.406 0 0 0-4.154 5.262v1.8C6.867 15.018 5 15.614 5 16.807 5 17.4 5 18 5.538 18h12.924C19 18 19 17.4 19 16.807c0-1.193-1.867-1.789-1.867-4.175ZM6 6a1 1 0 0 1-.707-.293l-1-1a1 1 0 0 1 1.414-1.414l1 1A1 1 0 0 1 6 6Zm-2 4H3a1 1 0 0 1 0-2h1a1 1 0 1 1 0 2Zm14-4a1 1 0 0 1-.707-1.707l1-1a1 1 0 1 1 1.414 1.414l-1 1A1 1 0 0 1 18 6Zm3 4h-1a1 1 0 1 1 0-2h1a1 1 0 1 1 0 2ZM8.823 19a3.453 3.453 0 0 0 6.354 0H8.823Z"})],-1),L=e("span",{class:"flex-1 ms-3 whitespace-nowrap"},"Экстренные функции",-1),R={key:0,class:"flex items-center lg:order-2 mt-4"},G=e("a",{href:"/",class:"block text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",type:"button"}," Все организации ",-1),I=[G],P={class:"w-screen dark:bg-gray-800 shrink"},K={__name:"OrganizationLayout",props:{id:{type:String,default:"1"}},setup(o){const u=f(),c=o;return k(()=>{m.getOrganizationInfo(c.id).then(s=>{u.value=s.name}),m.getMyPermissions(c.id).then(s=>{a.auth.permissions=s}),m.getChannels(c.id).then(s=>{a.data.channels=s})}),(s,p)=>{const i=w("router-link"),y=w("RouterView");return n(),d(Z,null,[r(a).ui.isSideBarOpen?(n(),d("div",{key:0,onClick:p[0]||(p[0]=(...t)=>r(v)&&r(v)(...t)),class:"top-0 left-0 h-screen w-screen bg-gray-900 fixed opacity-20 z-40"})):l("",!0),u.value?(n(),d("aside",{key:1,id:"default-sidebar",class:_(["top-0 left-0 z-40 shrink min-w-64 max-w-64 min-h-screen transition-transform md:static fixed md:translate-x-0 pt-12",{"-translate-x-full":!r(a).ui.isSideBarOpen,"translate-x-0 h-screen":r(a).ui.isSideBarOpen}]),"aria-label":"Sidebar"},[e("div",A,[e("ul",M,[e("li",null,[e("h5",C,b(u.value),1)]),e("li",null,[g(i,{to:`/organization/${o.id}`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[B,z]),_:1},8,["to"])]),e("li",null,[r(a).auth.permissions.some(t=>t.name==="admin"||t.name==="owner")?(n(),x(i,{key:0,to:`/organization/${o.id}/users`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[H,V]),_:1},8,["to"])):l("",!0)]),e("li",null,[g(i,{to:`/organization/${o.id}/history`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[S,$]),_:1},8,["to"])]),e("li",null,[g(i,{to:`/organization/${o.id}/channels`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[O,N]),_:1},8,["to"])]),e("li",null,[r(a).auth.permissions.some(t=>t.name==="admin"||t.name==="owner")?(n(),x(i,{key:0,to:`/organization/${o.id}/social`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[D,E]),_:1},8,["to"])):l("",!0)]),e("li",null,[r(a).auth.permissions.some(t=>t.name==="admin"||t.name==="owner")?(n(),x(i,{key:0,to:`/organization/${o.id}/emergency`,class:"flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group"},{default:h(()=>[F,L]),_:1},8,["to"])):l("",!0)])]),s.$route.name!="AllOrganization"?(n(),d("div",R,I)):l("",!0)])],2)):l("",!0),e("nav",P,[g(y)])],64)}}};export{K as default};
